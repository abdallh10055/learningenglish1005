<!DOCTYPE html>
<html lang="ar">
<head>
  <title>World of English | تعلم الأفعال والأزمنة الإنجليزية بسهولة</title>
  <meta name="description" content="موقع تفاعلي يساعدك على تعلم الأفعال والأزمنة الإنجليزية بطريقة بسيطة وممتعة. ابحث عن أي فعل وستجده بتصريفاته الثلاثة، مع معناه بالعربية وأمثلة في جميع الأزمنة.">
  <!-- كود تحسين الظهور (SEO) -->
  <meta name="keywords" content="تعلم اللغة الإنجليزية, أفعال, English verbs, تعليم, موقع تعليمي, تطبيق لتعلم الإنجليزية">
  <meta name="author" content="Abdallh10055">

  <!-- إعدادات معاينة الرابط عند مشاركته -->
  <meta property="og:title" content="World of Verbs | تعلم الأفعال الإنجليزية">
  <meta property="og:description" content="  كل فعل هنا وشرح الأزمنه في اللغة الانجليزية موقع يساعدك على إتقان الأفعال الإنجليزية مع موارد وتطبيق مجاني.">
  <meta property="og:image" content="https://abdallh10055.github.io/world-of-verbs-pro/your-image.jpg">
  <meta property="og:url" content="https://abdallh10055.github.io/world-of-verbs-pro/">
  <meta name="twitter:card" content="summary_large_image">

  <!-- رابط ملف CSS الخاص بك (إذا كان موجودًا) -->
  <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="keywords" content="تصريف الأفعال, أفعال إنجليزية, تعلم الإنجليزية, تصريف الأفعال الشاذة">
    <meta name="author" content="abdallh10055">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --light-color: #f5f7fa;
            --dark-color: #333;
            --sidebar-width: 250px;
            --bg-color: #f5f7fa;
            --text-color: #333;
            --card-bg: white;
            --border-radius: 8px;
            --box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: var(--transition);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }
        
        /* الواجهة الرئيسية */
        .main-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            text-align: center;
            background-image: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            position: relative;
            box-shadow: var(--box-shadow);
        }
        
        .main-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
        }
        
        .main-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .welcome-text {
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        .main-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .main-btn {
            padding: 12px 25px;
            background-color: var(--primary-color);
            color: white;
      <!DOCTYPE html>
<html lang="ar">
<head>
  <!-- كود تحسين الظهور (SEO) -->
  <title>World of Verbs | تعلم الأفعال الإنجليزية</title>       

  <meta name="description" content="موقع تفاعلي يساعدك على تعلم الأفعال الإنجليزية بطريقة بسيطة وممتعة، مع تطبيق مجاني للتحميل.">
  <meta name="keywords" content="تعلم اللغة الإنجليزية, أفعال, English verbs, تعليم, موقع تعليمي, تطبيق لتعلم الإنجليزية">
  <meta name="author" content="Abdallh10055">

  <!-- إعدادات معاينة الرابط عند مشاركته -->
  <meta property="og:title" content="World of Verbs | تعلم الأفعال الإنجليزية">
  <meta property="og:description" content="موقع يساعدك على إتقان الأفعال الإنجليزية مع موارد وتطبيق مجاني.">
  <meta property="og:image" content="https://abdallh10055.github.io/world-of-verbs-pro/your-image.jpg">
  <meta property="og:url" content="https://abdallh10055.github.io/world-of-verbs-pro/">
  <meta name="twitter:card" content="summary_large_image">

  <!-- رابط ملف CSS الخاص بك (إذا كان موجودًا) -->
  <link rel="stylesheet" href="style.css"
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="أفضل تطبيق مجاني لتصريف جميع الأفعال الإنجليزية مع الترجمة العربية">
    <meta name="keywords" content="تصريف الأفعال, أفعال إنجليزية, تعلم الإنجليزية, تصريف الأفعال الشاذة">
    <meta name="author" content="abdallh10055">
    <title>موقع تصريف الأفعال الإنجليزية</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --light-color: #f5f7fa;
            --dark-color: #333;
            --sidebar-width: 250px;
            --bg-color: #f5f7fa;
            --text-color: #333;
            --card-bg: white;
            --border-radius: 8px;
            --box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: var(--transition);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }
        
        /* الواجهة الرئيسية */
        .main-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            text-align: center;
            background-image: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            position: relative;
            box-shadow: var(--box-shadow);
        }
        
        .main-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
        }
        
        .main-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .welcome-text {
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        .main-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .main-btn {
            padding: 12px 25px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
      border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .main-btn:hover {
            background-color: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* القوائم والتبويبات */
        .menu-container {
            display: none;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            margin-top: 20px;
        }
        
        .menu-title {
            font-size: 1.8rem;
            color: var(--secondary-color);
            margin-bottom: 20px;
            text-align: center;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        .menu-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .menu-item {
            padding: 12px 15px;
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border-left: 4px solid var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .menu-item:hover {
            background-color: #e1e5eb;
            transform: translateX(5px);
        }
        
        /* محتوى التبويبات */
        .tab-content {
            display: none;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 20px;
            box-shadow: var(--box-shadow);
            position: relative;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* الشريط الجانبي */
        .sidebar-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: none;
            transition: var(--transition);
        }

        .sidebar-toggle:hover {
            transform: scale(1.1);
        }
        
        .back-btn {
            position: fixed;
            top: 70px;
            right: 20px;
            background-color: var(--secondary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: none;
            transition: var(--transition);
        }

        .back-btn:hover {
            transform: scale(1.1);
        }
        
        .sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: var(--sidebar-width);
            height: 100%;
            background-color: var(--card-bg);
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            z-index: 999;
            transition: right 0.3s ease;
            overflow-y: auto;
            padding: 20px;
        }
        
        .sidebar.active {
            right: 0;
        }
        
        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .sidebar-title {
            font-size: 1.2rem;
            color: var(--secondary-color);
        }
        
        .sidebar-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--accent-color);
            transition: transform 0.3s ease;
        }

        .sidebar-close:hover {
            transform: rotate(90deg);
        }
        
        .sidebar-menu {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .sidebar-item {
            padding: 10px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .sidebar-item:hover {
            background-color: var(--light-color);
        }
        
        .sidebar-item.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        /* محتوى البحث */
        .search-container {
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }
        
        .search-box {
            margin-bottom: 20px;
            position: relative;
        }
        
        #search {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            outline: none;
            transition: var(--transition);
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        #search:focus {
            border-color: var(--primary-color);
        }
        
        .suggestions-container {
            position: absolute;
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
            background-color: var(--card-bg);
            border: 1px solid #ddd;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            z-index: 100;
            display: none;
            box-shadow: var(--box-shadow);
        }
        
        .suggestion-item {
            padding: 10px 15px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .suggestion-item:hover {
            background-color: var(--light-color);
        }
        
        .verbs-table-container {
            width: 100%;
            overflow-x: auto;
            margin-top: 20px;
            box-shadow: var(--box-shadow);
            border-radius: var(--border-radius);
        }
        
        .verbs-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }
        
        .verbs-table th, .verbs-table td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }
        
        .verbs-table th {
            background-color: var(--primary-color);
            color: white;
            position: sticky;
            top: 0;
        }
        
        .verbs-table tr:hover {
            background-color: var(--light-color);
        }
        
        .verb {
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .note {
            font-size: 0.8rem;
            color: #7f8c8d;
            font-style: italic;
        }
        
        .sound-icon {
            margin-right: 5px;
            cursor: pointer;
            color: var(--primary-color);
            font-size: 1.1rem;
            transition: var(--transition);
        }

        .sound-icon:hover {
            color: var(--accent-color);
            transform: scale(1.2);
        }
        
        .verb-examples {
            margin-top: 30px;
        }
        
        .example-card {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            transition: var(--transition);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .example-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow);
        }
        
        .example-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--secondary-color);
        }
        
        .example-sentence {
            margin-bottom: 10px;
            padding-right: 10px;
            border-right: 3px solid var(--primary-color);
        }
        
        .example-translation {
            font-style: italic;
            color: #7f8c8d;
        }
        
        /* نظام الاختبار */
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }
        
        .test-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        .test-progress {
            font-weight: bold;
            color: var(--secondary-color);
        }
        
        .test-timer {
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .test-question {
            background-color: var(--light-color);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .question-text {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        .option-btn {
            padding: 12px 15px;
            background-color: var(--card-bg);
            border: 2px solid #ddd;
            border-radius: var(--border-radius);
            text-align: right;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .option-btn:hover {
            border-color: var(--primary-color);
            background-color: #eaf2f8;
        }
        
        .option-btn.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .option-btn.correct {
            background-color: #2ecc71;
            color: white;
            border-color: #2ecc71;
        }
        
        .option-btn.wrong {
            background-color: #e74c3c;
            color: white;
            border-color: #e74c3c;
        }
        
        .test-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .test-btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
        }
        
        .test-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .next-btn {
            background-color: var(--primary-color);
            color: white;
        }
        
        .next-btn:hover {
            background-color: #2980b9;
        }
        
        .finish-btn {
            background-color: var(--accent-color);
            color: white;
        }
        
        .finish-btn:hover {
            background-color: #c0392b;
        }
        
        .test-results {
            display: none;
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-top: 20px;
            animation: fadeIn 0.5s ease;
        }
        
        .result-title {
            font-size: 1.5rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .result-score {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            color: var(--primary-color);
        }
        
        .result-details {
            margin-top: 20px;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .restart-btn {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            margin-top: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
        }
        
        .restart-btn:hover {
            background-color: #2980b9;
        }
        
        /* التبويبات الأخرى */
        .settings-content, .grammar-content, .contact-content, .login-content {
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }
        
        .section-title {
            font-size: 1.5rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        .section-text {
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .settings-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: var(--light-color);
            border-radius: var(--border-radius);
        }
        
        .setting-label {
            font-weight: bold;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--primary-color);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .contact-info {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        
        .contact-card {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            gap: 15px;
            transition: var(--transition);
        }

        .contact-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow);
        }
        
        .contact-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        .contact-text {
            flex: 1;
        }
        
        .contact-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            font-size: 1.2rem;
            transition: var(--transition);
        }
        
        .social-link:hover {
            background-color: var(--secondary-color);
            transform: translateY(-3px);
        }
        
        /* تحميل التطبيق */
        .download-content {
            text-align: center;
            padding: 30px;
        }
        
        .download-icon {
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            transition: all 0.5s ease;
        }

        .download-icon:hover {
            transform: rotate(360deg);
        }
        
        .download-btn {
            display: inline-block;
            padding: 15px 30px;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: bold;
            margin-top: 20px;
            transition: var(--transition);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .download-btn:hover {
            background-color: #2980b9;
            transform: translateY(-3px);
            box-shadow: var(--box-shadow);
        }
        
        /* تبويب القواعد النحوية */
        .tenses-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .tense-card {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border-left: 4px solid var(--primary-color);
        }
        
        .tense-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }
        
        .tense-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--secondary-color);
        }
        
        .tense-content {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            border: 1px solid #ddd;
        }
        
        .tense-example {
            margin-bottom: 10px;
            padding: 10px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            border-right: 3px solid var(--primary-color);
        }
        
        .tense-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        
        .tense-table th, .tense-table td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: right;
        }
        
        .tense-table th {
            background-color: var(--primary-color);
            color: white;
        }
        
        .tense-table tr:nth-child(even) {
            background-color: var(--light-color);
        }
        
        /* نظام تسجيل الدخول */
        .login-form {
            background-color: var(--light-color);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 20px;
            box-shadow: var(--box-shadow);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-group input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
        }
        
        .login-btn:hover {
            background-color: #2980b9;
        }
        
        .register-link {
            text-align: center;
            margin-top: 15px;
        }
        
        .register-link a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .register-link a:hover {
            text-decoration: underline;
        }
        
        .user-profile {
            display: none;
            text-align: center;
            margin-top: 20px;
            background-color: var(--light-color);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        .user-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 15px;
            object-fit: cover;
            border: 3px solid var(--primary-color);
        }
        
        .logout-btn {
            margin-top: 15px;
            padding: 8px 15px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .logout-btn:hover {
            background-color: #c0392b;
        }
        
        /* تأثيرات التحميل */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* تأثيرات الإشعارات */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--primary-color);
            color: white;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 1000;
            display: none;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* تأثيرات النص */
        .highlight {
            background-color: rgba(255, 255, 0, 0.3);
            padding: 2px 4px;
            border-radius: 3px;
        }

        /* الأسئلة الخاطئة */
        .wrong-answers-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .wrong-answer-item {
            background-color: #f8f9fa;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: var(--border-radius);
            border-right: 4px solid #e74c3c;
        }

        .wrong-question {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .user-answer, .correct-answer {
            margin-bottom: 5px;
        }

        .wrong {
            color: #e74c3c;
            font-weight: bold;
        }

        .correct {
            color: #2ecc71;
            font-weight: bold;
        }

        /* تصفية الأفعال */
        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 15px;
            background-color: #ddd;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* شريط التقدم */
        .progress-container {
            width: 100%;
            height: 5px;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin-top: 10px;
        }

        .progress {
            height: 100%;
            background-color: #3498db;
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        /* وضع الليل */
        body.dark-mode {
            --bg-color: #2c3e50;
            --text-color: #f5f7fa;
            --card-bg: #34495e;
            --light-color: #3d566e;
            --secondary-color: #ecf0f1;
        }

        /* تحسينات للوضع المحمول */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2rem;
            }
            
            .welcome-text {
                font-size: 1rem;
            }
            
            .main-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .main-btn {
                width: 100%;
            }
            
            .sidebar {
                width: 80%;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .tenses-container {
                grid-template-columns: 1fr;
            }

            .verbs-table th, .verbs-table td {
                padding: 8px 10px;
                font-size: 0.9rem;
            }

            .example-card {
                padding: 10px;
            }

            .test-header {
                flex-direction: column;
                gap: 10px;
            }

            .test-controls {
                flex-direction: column;
                gap: 10px;
            }

            .test-btn {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .main-title {
                font-size: 1.5rem;
            }

            .section-title {
                font-size: 1.2rem;
            }

            .verbs-table th, .verbs-table td {
                padding: 6px 8px;
                font-size: 0.8rem;
            }

            .sound-icon {
                font-size: 0.9rem;
            }

            .filter-buttons {
                gap: 5px;
            }

            .filter-btn {
                padding: 6px 10px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- تأثير التحميل -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
    </div>

    <!-- إشعارات -->
    <div class="notification" id="notification"></div>

    <div class="container">
        <!-- زر الشريط الجانبي -->
        <div class="sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-bars"></i>
        </div>
        
        <!-- زر الرجوع للخلف -->
        <div class="back-btn" id="backBtn">
            <i class="fas fa-arrow-left"></i>
        </div>
        
        <!-- الشريط الجانبي -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3 class="sidebar-title">القائمة الرئيسية</h3>
                <button class="sidebar-close" id="sidebarClose">&times;</button>
            </div>
            <div class="sidebar-menu" id="sidebarMenu">
                <div class="sidebar-item" data-tab="searchTab"><i class="fas fa-search"></i> بحث</div>
                <div class="sidebar-item" data-tab="testTab"><i class="fas fa-question-circle"></i> اختبار</div>
                <div class="sidebar-item" data-tab="grammarTab"><i class="fas fa-book"></i> شرح تصريف الأفعال</div>
                <div class="sidebar-item" data-tab="settingsTab"><i class="fas fa-cog"></i> الإعدادات</div>
                <div class="sidebar-item" data-tab="contactTab"><i class="fas fa-envelope"></i> اتصل بنا</div>
                <div class="sidebar-item" data-tab="downloadTab"><i class="fas fa-download"></i> تحميل التطبيق</div>
                <div class="sidebar-item" data-tab="loginTab"><i class="fas fa-user"></i> تسجيل الدخول</div>
            </div>
        </div>
        
        <!-- الواجهة الرئيسية -->
        <div class="main-screen" id="mainScreen">
            <div class="main-content">
                <h1 class="main-title">مرحبا بكم في موقع تصريف الأفعال الإنجليزية</h1>
                <p class="welcome-text">
                    الموقع يعرض كل تصريفات الأفعال الإنجليزية الشاذة والعادية مع ترجمتها للعربية.
                    يمكنك البحث عن أي فعل ومعرفة تصريفاته في الماضي والتصريف الثالث، كما نقدم أمثلة
                    توضيحية لاستخدام الأفعال في الجمل. ابدأ رحلتك في تعلم اللغة الإنجليزية الآن!
                </p>
                <div class="main-buttons">
                    <button class="main-btn" id="useSiteBtn">استخدام موقع الأفعال</button>
                    <button class="main-btn" id="downloadBtn">تحميل التطبيق</button>
                </div>
            </div>
        </div>
        
        <!-- قائمة الاستخدام -->
        <div class="menu-container" id="mainMenu">
            <h2 class="menu-title">القائمة الرئيسية</h2>
            <div class="menu-items">
                <div class="menu-item" data-tab="searchTab"><i class="fas fa-search"></i> بحث</div>
                <div class="menu-item" data-tab="testTab"><i class="fas fa-question-circle"></i> اختبار</div>
                <div class="menu-item" data-tab="grammarTab"><i class="fas fa-book"></i> شرح تصريف الأفعال</div>
                <div class="menu-item" data-tab="settingsTab"><i class="fas fa-cog"></i> الإعدادات</div>
                <div class="menu-item" data-tab="contactTab"><i class="fas fa-envelope"></i> اتصل بنا</div>
                <div class="menu-item" data-tab="downloadTab"><i class="fas fa-download"></i> تحميل التطبيق</div>
                <div class="menu-item" data-tab="loginTab"><i class="fas fa-user"></i> تسجيل الدخول</div>
            </div>
        </div>
        
        <!-- محتوى التبويبات -->
        <div class="tab-content" id="searchTab">
            <div class="search-container">
                <h2 class="section-title">بحث عن تصريف الأفعال</h2>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">الكل</button>
                    <button class="filter-btn" data-filter="regular">عادية</button>
                    <button class="filter-btn" data-filter="irregular">شاذة</button>
                </div>
                <div class="search-box">
                    <input type="text" id="search" placeholder="اكتب الفعل أو المعنى العربي الذي تبحث عنه...">
                    <div class="suggestions-container" id="suggestionsContainer"></div>
                </div>
                <div class="verbs-table-container">
                    <table class="verbs-table" id="verbsTable">
                        <thead>
                            <tr>
                                <th>الفعل (الحاضر)</th>
                                <th>الماضي</th>
                                <th>التصريف الثالث</th>
                                <th>المعنى العربي</th>
                                <th>النوع</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- سيتم ملؤه بالجافاسكريبت -->
                        </tbody>
                    </table>
                </div>
                
                <div class="verb-examples" id="verbExamples">
                    <!-- سيتم ملؤه بالجافاسكريبت عند البحث عن فعل -->
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="testTab">
            <div class="test-container">
                <div class="test-header">
                    <div class="test-progress" id="testProgress">السؤال 1 من 10</div>
                    <div class="test-timer" id="testTimer">الوقت: 05:00</div>
                </div>
                
                <div class="progress-container">
                    <div class="progress" id="testProgressBar"></div>
                </div>
                
                <div class="test-question" id="currentQuestion">
                    <div class="question-text">ما هو تصريف الفعل 'go' في الماضي؟</div>
                    <div class="options-container" id="optionsContainer">
                        <button class="option-btn" data-answer="went">went</button>
                        <button class="option-btn" data-answer="gone">gone</button>
                        <button class="option-btn" data-answer="goed">goed</button>
                        <button class="option-btn" data-answer="goes">goes</button>
                    </div>
                </div>
                
                <div class="test-controls">
                    <button class="test-btn next-btn" id="nextQuestionBtn" disabled>التالي</button>
                    <button class="test-btn finish-btn" id="finishTestBtn">إنهاء الاختبار</button>
                </div>
                
                <div class="test-results" id="testResults">
                    <h3 class="result-title">نتيجة الاختبار</h3>
                    <div class="result-score" id="resultScore">80%</div>
                    
                    <div class="result-details" id="resultDetails">
                        <div class="result-item">
                            <span>عدد الأسئلة:</span>
                            <span id="totalQuestions">10</span>
                        </div>
                        <div class="result-item">
                            <span>الإجابات الصحيحة:</span>
                            <span id="correctAnswers">8</span>
                        </div>
                        <div class="result-item">
                            <span>الإجابات الخاطئة:</span>
                            <span id="wrongAnswers">2</span>
                        </div>
                        <div class="result-item">
                            <span>النسبة المئوية:</span>
                            <span id="percentage">80%</span>
                        </div>
                    </div>
                    
                    <button class="restart-btn" id="restartTestBtn">إعادة الاختبار</button>
                    <button class="restart-btn" id="retryWrongBtn">إعادة الأسئلة الخاطئة فقط</button>
                    <button class="restart-btn" id="printResultsBtn"><i class="fas fa-print"></i> طباعة النتائج</button>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="grammarTab">
            <div class="grammar-content">
                <h2 class="section-title">شرح تصريف الأفعال والأزمنة في اللغة الإنجليزية</h2>
                <p class="section-text">في هذا القسم ستجد شرحًا مفصلًا لكل الأزمنة في اللغة الإنجليزية مع أمثلة توضيحية لكل حالة.</p>
                
                <div class="tenses-container">
                    <!-- زمن المضارع البسيط -->
                    <div class="tense-card" data-tense="presentSimple">
                        <div class="tense-title">زمن المضارع البسيط (Present Simple)</div>
                        <div class="section-text">يستخدم للتعبير عن العادات والأحداث المتكررة والحقائق العامة.</div>
                    </div>
                    
                    <!-- زمن المضارع المستمر -->
                    <div class="tense-card" data-tense="presentContinuous">
                        <div class="tense-title">زمن المضارع المستمر (Present Continuous)</div>
                        <div class="section-text">يستخدم للتعبير عن الأحداث التي تحدث الآن أو المستقبل المخطط له.</div>
                    </div>
                    
                    <!-- زمن الماضي البسيط -->
                    <div class="tense-card" data-tense="pastSimple">
                        <div class="tense-title">زمن الماضي البسيط (Past Simple)</div>
                        <div class="section-text">يستخدم للتعبير عن الأحداث التي حدثت وانتهت في الماضي.</div>
                    </div>
                    
                    <!-- زمن الماضي المستمر -->
                    <div class="tense-card" data-tense="pastContinuous">
                        <div class="tense-title">زمن الماضي المستمر (Past Continuous)</div>
                        <div class="section-text">يستخدم للتعبير عن الأحداث التي كانت مستمرة في وقت معين في الماضي.</div>
                    </div>
                    
                    <!-- زمن المضارع التام -->
                    <div class="tense-card" data-tense="presentPerfect">
                        <div class="tense-title">زمن المضارع التام (Present Perfect)</div>
                        <div class="section-text">يستخدم للتعبير عن الأحداث التي حدثت في الماضي ولها تأثير في الحاضر.</div>
                    </div>
                    
                    <!-- زمن المضارع التام المستمر -->
                    <div class="tense-card" data-tense="presentPerfectContinuous">
                        <div class="tense-title">زمن المضارع التام المستمر (Present Perfect Continuous)</div>
                        <div class="section-text">يستخدم للتعبير عن الأحداث التي بدأت في الماضي ومستمرة حتى الآن.</div>
                    </div>
                    
                    <!-- زمن الماضي التام -->
                    <div class="tense-card" data-tense="pastPerfect">
                        <div class="tense-title">زمن الماضي التام (Past Perfect)</div>
                        <div class="section-text">يستخدم للتعبير عن حدث وقع قبل حدث آخر في الماضي.</div>
                    </div>
                    
                    <!-- صيغة المبني للمعلوم والمبني للمجهول -->
                    <div class="tense-card" data-tense="activePassive">
                        <div class="tense-title">صيغة المبني للمعلوم والمبني للمجهول</div>
                        <div class="section-text">شرح الفرق بين الصيغتين وكيفية التحويل بينهما.</div>
                    </div>
                </div>
                
                <!-- محتوى الأزمنة (سيتم تعبئته بالجافاسكريبت) -->
                <div id="presentSimpleContent" class="tense-content"></div>
                <div id="presentContinuousContent" class="tense-content"></div>
                <div id="pastSimpleContent" class="tense-content"></div>
                <div id="pastContinuousContent" class="tense-content"></div>
                <div id="presentPerfectContent" class="tense-content"></div>
                <div id="presentPerfectContinuousContent" class="tense-content"></div>
                <div id="pastPerfectContent" class="tense-content"></div>
                <div id="activePassiveContent" class="tense-content"></div>
            </div>
        </div>
        
        <div class="tab-content" id="settingsTab">
            <div class="settings-content">
                <h2 class="section-title">الإعدادات</h2>
                <p class="section-text">هنا يمكنك تعديل إعدادات الموقع حسب تفضيلاتك الشخصية.</p>
                
                <div class="settings-options">
                    <div class="setting-item">
                        <span class="setting-label">وضع الليل</span>
                        <label class="switch">
                            <input type="checkbox" id="darkModeToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">إشعارات الاختبار</span>
                        <label class="switch">
                            <input type="checkbox" id="testNotificationsToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">حجم الخط</span>
                        <select id="fontSizeSelect">
                            <option value="small">صغير</option>
                            <option value="medium" selected>متوسط</option>
                            <option value="large">كبير</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">لون السمة</span>
                        <select id="themeColorSelect">
                            <option value="blue" selected>أزرق</option>
                            <option value="green">أخضر</option>
                            <option value="red">أحمر</option>
                            <option value="purple">بنفسجي</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">تمكين الصوت</span>
                        <label class="switch">
                            <input type="checkbox" id="soundToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">تمكين الاهتزاز</span>
                        <label class="switch">
                            <input type="checkbox" id="vibrationToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">لغة الواجهة</span>
                        <select id="languageSelect">
                            <option value="ar" selected>العربية</option>
                            <option value="en">الإنجليزية</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="contactTab">
            <div class="contact-content">
                <h2 class="section-title">اتصل بنا</h2>
                <p class="section-text">للاستفسارات أو المقترحات، يمكنك التواصل معنا عبر الوسائل التالية:</p>
                
                <div class="contact-info">
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-text">
                            <div class="contact-title">البريد الإلكتروني</div>
                            <div>bdallhqrytm41@gmail.com</div>
                            <div>bdallhqrytm3@gmail.com</div>
                        </div>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-text">
                            <div class="contact-title">الهاتف</div>
                            <div>+201040338275</div>
                            <div>+201123493976</div>
                        </div>
                    </div>
                </div>
                
                <div class="social-links">
                    <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="downloadTab">
            <div class="download-content">
                <div class="download-icon">
                    <i class="fas fa-download"></i>
                </div>
                <h2 class="section-title">تحميل تطبيق تصريف الأفعال</h2>
                <p class="section-text">قم بتنزيل تطبيقنا للحصول على تجربة أفضل مع تصريف الأفعال الإنجليزية بدون الحاجة للاتصال بالإنترنت.</p>
                
                <a href="#" class="download-btn" id="downloadAppBtn">
                    <i class="fas fa-download"></i> تحميل التطبيق الآن
                </a>
                
                <div class="section-text" style="margin-top: 30px;">
                    <h3>مميزات التطبيق:</h3>
                    <ul style="text-align: right; margin-right: 20px; line-height: 2;">
                        <li>عمل دون الحاجة للإنترنت</li>
                        <li>واجهة مستخدم سهلة وبسيطة</li>
                        <li>أكثر من 500 فعل مع تصريفاتها</li>
                        <li>أمثلة صوتية للنطق الصحيح</li>
                        <li>اختبارات تفاعلية لتحسين مستواك</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- تبويب تسجيل الدخول -->
        <div class="tab-content" id="loginTab">
            <div class="login-content">
                <h2 class="section-title">تسجيل الدخول</h2>
                <div class="login-form" id="loginForm">
                    <div class="form-group">
                        <label for="username">اسم المستخدم</label>
                        <input type="text" id="username" placeholder="أدخل اسم المستخدم">
                    </div>
                    <div class="form-group">
                        <label for="password">كلمة المرور</label>
                        <input type="password" id="password" placeholder="أدخل كلمة المرور">
                    </div>
                    <button class="login-btn" id="loginBtn">تسجيل الدخول</button>
                    <div class="register-link">
                        ليس لديك حساب؟ <a href="#" id="registerLink">سجل الآن</a>
                    </div>
                </div>
                
                <div class="user-profile" id="userProfile">
                    <img src="https://via.placeholder.com/100" alt="صورة المستخدم" class="user-avatar">
                    <h3 id="userName">اسم المستخدم</h3>
                    <p id="userEmail">البريد الإلكتروني</p>
                    <button class="logout-btn" id="logoutBtn">تسجيل الخروج</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // قاموس الأفعال المعدل والمصحح
        const verbsDictionary = {
            "act": {"past": "acted", "past_participle": "acted", "arabic": "يمثل/يتصرف", "type": "عادي"},
            "add": {"past": "added", "past_participle": "added", "arabic": "يضيف", "type": "عادي"},
            "agree": {"past": "agreed", "past_participle": "agreed", "arabic": "يوافق", "type": "عادي"},
            "allow": {"past": "allowed", "past_participle": "allowed", "arabic": "يسمح", "type": "عادي"},
            "answer": {"past": "answered", "past_participle": "answered", "arabic": "يجيب", "type": "عادي"},
            "arrive": {"past": "arrived", "past_participle": "arrived", "arabic": "يصل", "type": "عادي"},
            "ask": {"past": "asked", "past_participle": "asked", "arabic": "يسأل", "type": "عادي"},
            "awake": {"past": "awoke", "past_participle": "awoken", "arabic": "يستيقظ", "note": "نادر، الأفضل استخدام wake", "type": "شاذ"},
            "back": {"past": "backed", "past_participle": "backed", "arabic": "يدعم/يتراجع", "type": "عادي"},
            "bake": {"past": "baked", "past_participle": "baked", "arabic": "يخبز", "type": "عادي"},
            "be": {"past": "was/were", "past_participle": "been", "arabic": "يكون", "note": "أهم فعل في الإنجليزية", "type": "شاذ"},
            "bear": {"past": "bore", "past_participle": "borne", "arabic": "يتحمل/يولد", "note": "يستخدم 'born' للمولود فقط", "type": "شاذ"},
            "become": {"past": "became", "past_participle": "become", "arabic": "يصبح", "type": "شاذ"},
            "begin": {"past": "began", "past_participle": "begun", "arabic": "يبدأ", "type": "شاذ"},
            "believe": {"past": "believed", "past_participle": "believed", "arabic": "يصدق/يعتقد", "type": "عادي"},
            "break": {"past": "broke", "past_participle": "broken", "arabic": "يكسر", "type": "شاذ"},
            "bring": {"past": "brought", "past_participle": "brought", "arabic": "يأتي بـ", "type": "شاذ"},
            "build": {"past": "built", "past_participle": "built", "arabic": "يبني", "type": "شاذ"},
            "buy": {"past": "bought", "past_participle": "bought", "arabic": "يشتري", "type": "شاذ"},
            "catch": {"past": "caught", "past_participle": "caught", "arabic": "يمسك", "type": "شاذ"},
            "choose": {"past": "chose", "past_participle": "chosen", "arabic": "يختار", "type": "شاذ"},
            "come": {"past": "came", "past_participle": "come", "arabic": "يأتي", "type": "شاذ"},
            "cut": {"past": "cut", "past_participle": "cut", "arabic": "يقطع", "type": "شاذ"},
            "do": {"past": "did", "past_participle": "done", "arabic": "يفعل", "type": "شاذ"},
            "draw": {"past": "drew", "past_participle": "drawn", "arabic": "يرسم", "type": "شاذ"},
            "dream": {"past": "dreamed/dreamt", "past_participle": "dreamed/dreamt", "arabic": "يحلم", "note": "dreamt (بريطاني)", "type": "عادي"},
            "drink": {"past": "drank", "past_participle": "drunk", "arabic": "يشرب", "type": "شاذ"},
            "drive": {"past": "drove", "past_participle": "driven", "arabic": "يقود", "type": "شاذ"},
            "eat": {"past": "ate", "past_participle": "eaten", "arabic": "يأكل", "type": "شاذ"},
            "fall": {"past": "fell", "past_participle": "fallen", "arabic": "يسقط", "type": "شاذ"},
            "feel": {"past": "felt", "past_participle": "felt", "arabic": "يشعر", "type": "شاذ"},
            "fight": {"past": "fought", "past_participle": "fought", "arabic": "يقاتل", "type": "شاذ"},
            "find": {"past": "found", "past_participle": "found", "arabic": "يجد", "type": "شاذ"},
            "fly": {"past": "flew", "past_participle": "flown", "arabic": "يطير", "type": "شاذ"},
            "forget": {"past": "forgot", "past_participle": "forgotten", "arabic": "ينسى", "type": "شاذ"},
            "get": {"past": "got", "past_participle": "gotten/got", "arabic": "يحصل", "note": "gotten (أمريكي)", "type": "شاذ"},
            "give": {"past": "gave", "past_participle": "given", "arabic": "يعطي", "type": "شاذ"},
            "go": {"past": "went", "past_participle": "gone", "arabic": "يذهب", "type": "شاذ"},
            "have": {"past": "had", "past_participle": "had", "arabic": "يملك", "type": "شاذ"},
            "hear": {"past": "heard", "past_participle": "heard", "arabic": "يسمع", "type": "شاذ"},
            "hide": {"past": "hid", "past_participle": "hidden", "arabic": "يختبئ", "type": "شاذ"},
            "hold": {"past": "held", "past_participle": "held", "arabic": "يمسك", "type": "شاذ"},
            "keep": {"past": "kept", "past_participle": "kept", "arabic": "يحتفظ", "type": "شاذ"},
            "know": {"past": "knew", "past_participle": "known", "arabic": "يعرف", "type": "شاذ"},
            "leave": {"past": "left", "past_participle": "left", "arabic": "يغادر/يترك", "type": "شاذ"},
            "lose": {"past": "lost", "past_participle": "lost", "arabic": "يفقد", "type": "شاذ"},
            "make": {"past": "made", "past_participle": "made", "arabic": "يصنع", "type": "شاذ"},
            "meet": {"past": "met", "past_participle": "met", "arabic": "يلتقي", "type": "شاذ"},
            "read": {"past": "read", "past_participle": "read", "arabic": "يقرأ", "type": "شاذ"},
            "run": {"past": "ran", "past_participle": "run", "arabic": "يجري", "type": "شاذ"},
            "say": {"past": "said", "past_participle": "said", "arabic": "يقول", "type": "شاذ"},
            "see": {"past": "saw", "past_participle": "seen", "arabic": "يرى", "type": "شاذ"},
            "sing": {"past": "sang", "past_participle": "sung", "arabic": "يغني", "type": "شاذ"},
            "speak": {"past": "spoke", "past_participle": "spoken", "arabic": "يتكلم", "type": "شاذ"},
            "take": {"past": "took", "past_participle": "taken", "arabic": "يأخذ", "type": "شاذ"},
            "write": {"past": "wrote", "past_participle": "written", "arabic": "يكتب", "type": "شاذ"},
            "understand": {"past": "understood", "past_participle": "understood", "arabic": "يفهم", "type": "شاذ"},
            "wear": {"past": "wore", "past_participle": "worn", "arabic": "يرتدي", "type": "شاذ"},
            "win": {"past": "won", "past_participle": "won", "arabic": "يفوز", "type": "شاذ"},
            "think": {"past": "thought", "past_participle": "thought", "arabic": "يفكر", "type": "شاذ"},
            "teach": {"past": "taught", "past_participle": "taught", "arabic": "يعلم", "type": "شاذ"},
            "sleep": {"past": "slept", "past_participle": "slept", "arabic": "ينام", "type": "شاذ"},
            "stand": {"past": "stood", "past_participle": "stood", "arabic": "يقف", "type": "شاذ"},
            "swim": {"past": "swam", "past_participle": "swum", "arabic": "يسبح", "type": "شاذ"},
            "throw": {"past": "threw", "past_participle": "thrown", "arabic": "يرمي", "type": "شاذ"},
            "wake": {"past": "woke", "past_participle": "woken", "arabic": "يستيقظ", "type": "شاذ"},
            "pay": {"past": "paid", "past_participle": "paid", "arabic": "يدفع", "type": "شاذ"},
            "sell": {"past": "sold", "past_participle": "sold", "arabic": "يبيع", "type": "شاذ"},
            "send": {"past": "sent", "past_participle": "sent", "arabic": "يرسل", "type": "شاذ"},
            "shut": {"past": "shut", "past_participle": "shut", "arabic": "يغلق", "type": "شاذ"},
            "spend": {"past": "spent", "past_participle": "spent", "arabic": "ينفق", "type": "شاذ"},
            "stick": {"past": "stuck", "past_participle": "stuck", "arabic": "يلصق", "type": "شاذ"},
            "strike": {"past": "struck", "past_participle": "struck", "arabic": "يضرب", "type": "شاذ"},
            "sweep": {"past": "swept", "past_participle": "swept", "arabic": "يكنس", "type": "شاذ"},
            "tell": {"past": "told", "past_participle": "told", "arabic": "يخبر", "type": "شاذ"},
            "weep": {"past": "wept", "past_participle": "wept", "arabic": "يبكي", "type": "شاذ"},
            "wind": {"past": "wound", "past_participle": "wound", "arabic": "يلف", "type": "شاذ"},
            "withdraw": {"past": "withdrew", "past_participle": "withdrawn", "arabic": "يسحب", "type": "شاذ"},
            "wring": {"past": "wrung", "past_participle": "wrung", "arabic": "يعصر", "type": "شاذ"}
        };

        // DOM Elements
        const mainScreen = document.getElementById('mainScreen');
        const mainMenu = document.getElementById('mainMenu');
        const useSiteBtn = document.getElementById('useSiteBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const searchTab = document.getElementById('searchTab');
        const testTab = document.getElementById('testTab');
        const grammarTab = document.getElementById('grammarTab');
        const settingsTab = document.getElementById('settingsTab');
        const contactTab = document.getElementById('contactTab');
        const downloadTab = document.getElementById('downloadTab');
        const loginTab = document.getElementById('loginTab');
        const searchInput = document.getElementById('search');
        const suggestionsContainer = document.getElementById('suggestionsContainer');
        const verbsTable = document.getElementById('verbsTable').getElementsByTagName('tbody')[0];
        const verbExamples = document.getElementById('verbExamples');
        const loading = document.getElementById('loading');
        const notification = document.getElementById('notification');
        
        // عناصر الاختبار
        const testProgress = document.getElementById('testProgress');
        const testTimer = document.getElementById('testTimer');
        const currentQuestion = document.getElementById('currentQuestion');
        const optionsContainer = document.getElementById('optionsContainer');
        const nextQuestionBtn = document.getElementById('nextQuestionBtn');
        const finishTestBtn = document.getElementById('finishTestBtn');
        const testResults = document.getElementById('testResults');
        const resultScore = document.getElementById('resultScore');
        const totalQuestions = document.getElementById('totalQuestions');
        const correctAnswers = document.getElementById('correctAnswers');
        const wrongAnswers = document.getElementById('wrongAnswers');
        const percentage = document.getElementById('percentage');
        const restartTestBtn = document.getElementById('restartTestBtn');
        const retryWrongBtn = document.getElementById('retryWrongBtn');
        const printResultsBtn = document.getElementById('printResultsBtn');
        const testProgressBar = document.getElementById('testProgressBar');
        
        // الشريط الجانبي
        const sidebarToggle = document.getElementById('sidebarToggle');
        const backBtn = document.getElementById('backBtn');
        const sidebar = document.getElementById('sidebar');
        const sidebarClose = document.getElementById('sidebarClose');
        const sidebarItems = document.querySelectorAll('.sidebar-item');
        const menuItems = document.querySelectorAll('.menu-item');
        
        // الإعدادات
        const darkModeToggle = document.getElementById('darkModeToggle');
        const testNotificationsToggle = document.getElementById('testNotificationsToggle');
        const fontSizeSelect = document.getElementById('fontSizeSelect');
        const themeColorSelect = document.getElementById('themeColorSelect');
        const soundToggle = document.getElementById('soundToggle');
        const vibrationToggle = document.getElementById('vibrationToggle');
        const languageSelect = document.getElementById('languageSelect');
        
        // تحميل التطبيق
        const downloadAppBtn = document.getElementById('downloadAppBtn');

        // تسجيل الدخول
        const loginForm = document.getElementById('loginForm');
        const userProfile = document.getElementById('userProfile');
        const loginBtn = document.getElementById('loginBtn');
        const registerLink = document.getElementById('registerLink');
        const logoutBtn = document.getElementById('logoutBtn');
        const userName = document.getElementById('userName');
        const userEmail = document.getElementById('userEmail');

        // متغيرات الاختبار
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let testTimeLeft = 300; // 5 دقائق بالثواني
        let timerInterval;
        let selectedOption = null;
        let testQuestions = [];
        let isLoggedIn = false;
        let currentTab = null;
        let tabHistory = [];

        // تهيئة الصوت
        const synth = window.speechSynthesis;
        let englishVoice = null;

        // تحميل الأصوات المتاحة
        function loadVoices() {
            return new Promise((resolve) => {
                const voices = synth.getVoices();
                if (voices.length > 0) {
                    englishVoice = voices.find(voice => voice.lang === 'en-US' || voice.lang === 'en-GB');
                    resolve();
                } else {
                    synth.onvoiceschanged = () => {
                        const voices = synth.getVoices();
                        englishVoice = voices.find(voice => voice.lang === 'en-US' || voice.lang === 'en-GB');
                        resolve();
                    };
                }
            });
        }

        // تعبئة جدول الأفعال مع أيقونات الصوت
        function populateVerbsTable() {
            verbsTable.innerHTML = '';
            Object.entries(verbsDictionary).forEach(([verb, data]) => {
                const row = verbsTable.insertRow();
                row.innerHTML = `
                    <td class="verb">${verb} <i class="fas fa-volume-up sound-icon" data-text="${verb}"></i></td>
                    <td>${data.past} <i class="fas fa-volume-up sound-icon" data-text="${data.past}"></i></td>
                    <td>${data.past_participle} <i class="fas fa-volume-up sound-icon" data-text="${data.past_participle}"></i></td>
                    <td>${data.arabic} ${data.note ? `<span class="note">(${data.note})</span>` : ''}</td>
                    <td>${data.type || 'عادي'}</td>
                `;
            });
            
            // إضافة مستمعي الأحداث لأيقونات الصوت
            document.querySelectorAll('.sound-icon').forEach(icon => {
                icon.addEventListener('click', playSound);
            });
        }

        // تشغيل الصوت
        function playSound(e) {
            if (!soundToggle.checked) return;
            
            const text = e.target.getAttribute('data-text');
            const utterance = new SpeechSynthesisUtterance(text);
            
            if (englishVoice) {
                utterance.voice = englishVoice;
            }
            
            utterance.rate = 0.9;
            synth.speak(utterance);
        }

        // عرض أمثلة للفعل مع أيقونات الصوت
        function showVerbExamples(verb) {
            const verbData = verbsDictionary[verb];
            if (!verbData) return;
            
            verbExamples.innerHTML = `
                <h3 class="section-title">أمثلة استخدام الفعل "${verb}" <i class="fas fa-volume-up sound-icon" data-text="${verb}"></i></h3>
                
                <div class="example-card">
                    <div class="example-title">الماضي التام (Past Perfect)</div>
                    <div class="example-sentence">I had ${verbData.past_participle} before you arrived. <i class="fas fa-volume-up sound-icon" data-text="I had ${verbData.past_participle} before you arrived."></i></div>
                    <div class="example-translation">(كنت قد ${verbData.arabic} قبل وصولك)</div>
                    <div class="example-sentence">After I had ${verbData.past_participle}, I went to sleep. <i class="fas fa-volume-up sound-icon" data-text="After I had ${verbData.past_participle}, I went to sleep."></i></div>
                    <div class="example-translation">(بعد أن ${verbData.arabic}، ذهبت للنوم)</div>
                </div>
                
                <div class="example-card">
                    <div class="example-title">المضارع التام (Present Perfect)</div>
                    <div class="example-sentence">I have ${verbData.past_participle} this before. <i class="fas fa-volume-up sound-icon" data-text="I have ${verbData.past_participle} this before."></i></div>
                    <div class="example-translation">(لقد ${verbData.arabic} هذا من قبل)</div>
                    <div class="example-sentence">She has never ${verbData.past_participle} a camel. <i class="fas fa-volume-up sound-icon" data-text="She has never ${verbData.past_participle} a camel."></i></div>
                    <div class="example-translation">(هي لم ${verbData.arabic} جملاً أبداً)</div>
                </div>
                
                <div class="example-card">
                    <div class="example-title">المضارع التام المستمر (Present Perfect Continuous)</div>
                    <div class="example-sentence">I have been ${verb}ing for hours. <i class="fas fa-volume-up sound-icon" data-text="I have been ${verb}ing for hours."></i></div>
                    <div class="example-translation">(أنا أ${verbData.arabic} منذ ساعات)</div>
                    <div class="example-sentence">She has been ${verb}ing all morning. <i class="fas fa-volume-up sound-icon" data-text="She has been ${verb}ing all morning."></i></div>
                    <div class="example-translation">(هي ${verbData.arabic} طوال الصباح)</div>
                </div>
                
                <div class="example-card">
                    <div class="example-title">المضارع المستمر (Present Continuous)</div>
                    <div class="example-sentence">I am ${verb}ing now. <i class="fas fa-volume-up sound-icon" data-text="I am ${verb}ing now."></i></div>
                    <div class="example-translation">(أنا أ${verbData.arabic} الآن)</div>
                    <div class="example-sentence">They are ${verb}ing at the moment. <i class="fas fa-volume-up sound-icon" data-text="They are ${verb}ing at the moment."></i></div>
                    <div class="example-translation">(هم ${verbData.arabic} في هذه اللحظة)</div>
                </div>
                
                <div class="example-card">
                    <div class="example-title">صيغة الأمر (Imperative)</div>
                    <div class="example-sentence">${verb} carefully! <i class="fas fa-volume-up sound-icon" data-text="${verb} carefully!"></i></div>
                    <div class="example-translation">(${verbData.arabic} بحرص!)</div>
                    <div class="example-sentence">Don't ${verb} here! <i class="fas fa-volume-up sound-icon" data-text="Don't ${verb} here!"></i></div>
                    <div class="example-translation">(لا ${verbData.arabic} هنا!)</div>
                </div>
                
                <div class="example-card">
                    <div class="example-title">الماضي المستمر (Past Continuous)</div>
                    <div class="example-sentence">I was ${verb}ing when you called. <i class="fas fa-volume-up sound-icon" data-text="I was ${verb}ing when you called."></i></div>
                    <div class="example-translation">(كنت أ${verbData.arabic} عندما اتصلت)</div>
                    <div class="example-sentence">They were ${verb}ing all day yesterday. <i class="fas fa-volume-up sound-icon" data-text="They were ${verb}ing all day yesterday."></i></div>
                    <div class="example-translation">(هم ${verbData.arabic} طوال يوم أمس)</div>
                </div>
                
                <div class="example-card">
                    <div class="example-title">الماضي البسيط (Past Simple)</div>
                    <div class="example-sentence">I ${verbData.past} yesterday. <i class="fas fa-volume-up sound-icon" data-text="I ${verbData.past} yesterday."></i></div>
                    <div class="example-translation">(أنا ${verbData.arabic} أمس)</div>
                    <div class="example-sentence">She ${verbData.past} last week. <i class="fas fa-volume-up sound-icon" data-text="She ${verbData.past} last week."></i></div>
                    <div class="example-translation">(هي ${verbData.arabic} الأسبوع الماضي)</div>
                </div>
            `;
            
            // إضافة مستمعي الأحداث لأيقونات الصوت في الأمثلة
            document.querySelectorAll('.sound-icon').forEach(icon => {
                icon.addEventListener('click', playSound);
            });
        }

        // البحث عن الأفعال
        function searchVerbs() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            const rows = verbsTable.getElementsByTagName('tr');
            let exactMatch = false;
            
            for (let row of rows) {
                const verb = row.getElementsByTagName('td')[0].textContent.toLowerCase();
                const arabic = row.getElementsByTagName('td')[3].textContent.toLowerCase();
                const shouldShow = verb.includes(searchTerm) || arabic.includes(searchTerm);
                
                row.style.display = shouldShow ? '' : 'none';
                
                if (verb === searchTerm) {
                    exactMatch = true;
                    showVerbExamples(verb.trim());
                    row.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
            
            if (!exactMatch) {
                verbExamples.innerHTML = '';
            }
        }

        // تصفية الأفعال حسب النوع (عادية/شاذة)
        function filterVerbs(filter) {
            const rows = verbsTable.getElementsByTagName('tr');
            
            for (let row of rows) {
                const verb = row.getElementsByTagName('td')[0].textContent.trim();
                const verbData = verbsDictionary[verb];
                const isRegular = !verbData.type || verbData.type === 'عادي';
                
                if (filter === 'all' || 
                    (filter === 'regular' && isRegular) || 
                    (filter === 'irregular' && !isRegular)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            }
        }

        // عرض اقتراحات الأفعال
        function showSuggestions(searchTerm) {
            if (searchTerm.length < 2) {
                suggestionsContainer.style.display = 'none';
                return;
            }
            
            const filteredVerbs = Object.keys(verbsDictionary).filter(verb => 
                verb.toLowerCase().startsWith(searchTerm.toLowerCase()) || 
                verbsDictionary[verb].arabic.toLowerCase().includes(searchTerm.toLowerCase())
            );
            
            if (filteredVerbs.length > 0) {
                suggestionsContainer.innerHTML = '';
                filteredVerbs.slice(0, 5).forEach(verb => {
                    const suggestionItem = document.createElement('div');
                    suggestionItem.className = 'suggestion-item';
                    suggestionItem.textContent = `${verb} - ${verbsDictionary[verb].arabic}`;
                    suggestionItem.addEventListener('click', () => {
                        searchInput.value = verb;
                        suggestionsContainer.style.display = 'none';
                        searchVerbs();
                        showVerbExamples(verb);
                    });
                    suggestionsContainer.appendChild(suggestionItem);
                });
                suggestionsContainer.style.display = 'block';
            } else {
                suggestionsContainer.style.display = 'none';
            }
        }

        // إنشاء أسئلة عشوائية من قاموس الأفعال
        function generateRandomQuestions() {
            const verbs = Object.keys(verbsDictionary);
            const questions = [];
            
            // نأخذ 10 أفعال عشوائية
            const randomVerbs = [...verbs].sort(() => 0.5 - Math.random()).slice(0, 10);
            
            randomVerbs.forEach(verb => {
                const verbData = verbsDictionary[verb];
                const questionTypes = [
                    {
                        question: `ما هو تصريف الفعل '${verb}' في الماضي؟`,
                        options: generateOptions(verbData.past, verb, 'past'),
                        answer: verbData.past
                    },
                    {
                        question: `ما هو التصريف الثالث للفعل '${verb}'؟`,
                        options: generateOptions(verbData.past_participle, verb, 'past_participle'),
                        answer: verbData.past_participle
                    },
                    {
                        question: `ما هو المعنى العربي للفعل '${verb}'؟`,
                        options: generateOptions(verbData.arabic, verb, 'arabic'),
                        answer: verbData.arabic
                    }
                ];
                
                // اختيار نوع سؤال عشوائي لكل فعل
                const randomType = Math.floor(Math.random() * questionTypes.length);
                questions.push(questionTypes[randomType]);
            });
            
            return questions;
        }

        // توليد خيارات للأسئلة
        function generateOptions(correctAnswer, verb, type) {
            const options = [correctAnswer];
            const allVerbs = Object.entries(verbsDictionary);
            
            // إضافة 3 إجابات خاطئة
            while (options.length < 4) {
                const randomVerb = allVerbs[Math.floor(Math.random() * allVerbs.length)][1];
                let wrongOption;
                
                if (type === 'past') {
                    wrongOption = randomVerb.past;
                } else if (type === 'past_participle') {
                    wrongOption = randomVerb.past_participle;
                } else {
                    wrongOption = randomVerb.arabic;
                }
                
                if (!options.includes(wrongOption)) {
                    options.push(wrongOption);
                }
            }
            
            // خلط الخيارات عشوائياً
            return options.sort(() => 0.5 - Math.random());
        }

        // تعبئة محتوى القواعد النحوية
        function populateGrammarContent() {
            // زمن المضارع البسيط
            document.getElementById('presentSimpleContent').innerHTML = `
                <h3 class="section-title">زمن المضارع البسيط (Present Simple)</h3>
                <div class="section-text">
                    <p>يستخدم زمن المضارع البسيط للتعبير عن:</p>
                    <ul style="margin-right: 20px; line-height: 2;">
                        <li>العادات والأحداث المتكررة</li>
                        <li>الحقائق العامة</li>
                        <li>المواعيد الثابتة</li>
                    </ul>
                </div>
                
                <div class="tense-table">
                    <table>
                        <thead>
                            <tr>
                                <th>الصيغة</th>
                                <th>مثال</th>
                                <th>التعريب</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>I/You/We/They + المصدر</td>
                                <td>I go to school every day. <i class="fas fa-volume-up sound-icon" data-text="I go to school every day."></i></td>
                                <td>أذهب إلى المدرسة كل يوم.</td>
                            </tr>
                            <tr>
                                <td>He/She/It + المصدر + s/es</td>
                                <td>She goes to school every day. <i class="fas fa-volume-up sound-icon" data-text="She goes to school every day."></i></td>
                                <td>هي تذهب إلى المدرسة كل يوم.</td>
                            </tr>
                            <tr>
                                <td>Do + I/you/we/they + المصدر؟</td>
                                <td>Do you like coffee? <i class="fas fa-volume-up sound-icon" data-text="Do you like coffee?"></i></td>
                                <td>هل تحب القهوة؟</td>
                            </tr>
                            <tr>
                                <td>Does + he/she/it + المصدر؟</td>
                                <td>Does she speak English? <i class="fas fa-volume-up sound-icon" data-text="Does she speak English?"></i></td>
                                <td>هل تتحدث الإنجليزية؟</td>
                            </tr>
                            <tr>
                                <td>I/You/We/They + don't + المصدر</td>
                                <td>I don't like tea. <i class="fas fa-volume-up sound-icon" data-text="I don't like tea."></i></td>
                                <td>أنا لا أحب الشاي.</td>
                            </tr>
                            <tr>
                                <td>He/She/It + doesn't + المصدر</td>
                                <td>He doesn't play football. <i class="fas fa-volume-up sound-icon" data-text="He doesn't play football."></i></td>
                                <td>هو لا يلعب كرة القدم.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="section-text">
                    <p><strong>الكلمات الدالة:</strong> always, usually, often, sometimes, never, every day/week/month</p>
                </div>
            `;
            
            // إضافة مستمعي الأحداث لأيقونات الصوت
            document.querySelectorAll('.sound-icon').forEach(icon => {
                icon.addEventListener('click', playSound);
            });
            
            // بقية الأزمنة بنفس الطريقة مع إضافة أيقونات الصوت...
        }

        // إظهار/إخفاء التبويبات
        function showTab(tabToShow) {
            // إخفاء جميع التبويبات أولاً
            const allTabs = document.querySelectorAll('.tab-content, #mainMenu');
            allTabs.forEach(tab => tab.style.display = 'none');
            
            // إظهار التبويب المطلوب
            if (tabToShow) {
                tabToShow.style.display = 'block';
                currentTab = tabToShow;
            }
            
            // تحديث سجل التبويبات
            if (tabToShow && tabToShow !== mainMenu) {
                tabHistory.push(tabToShow);
            }
            
            // إظهار أو إخفاء زر الرجوع
            if (tabToShow && tabToShow !== mainMenu && tabToShow !== mainScreen) {
                backBtn.style.display = 'flex';
            } else {
                backBtn.style.display = 'none';
            }
            
            // إذا كان التبويب هو الاختبار، نبدأ الاختبار
            if (tabToShow === testTab) {
                startTest();
            }
            
            // إذا كان التبويب هو القواعد النحوية، نعبئ المحتوى
            if (tabToShow === grammarTab) {
                populateGrammarContent();
            }
            
            // إذا كان التبويب هو تسجيل الدخول، نتحقق من حالة المستخدم
            if (tabToShow === loginTab) {
                checkLoginStatus();
            }
            
            // إظهار أيقونة القائمة بعد اختيار تبويب
            if (tabToShow !== mainMenu) {
                sidebarToggle.style.display = 'flex';
            }
        }

        // الرجوع للخلف
        function goBack() {
            if (tabHistory.length > 1) {
                tabHistory.pop(); // إزالة التبويب الحالي
                const prevTab = tabHistory[tabHistory.length - 1];
                showTab(prevTab);
            } else {
                showTab(mainMenu);
            }
        }

        // بدء الاختبار بأسئلة عشوائية
        function startTest() {
            testQuestions = generateRandomQuestions();
            currentQuestionIndex = 0;
            userAnswers = [];
            testTimeLeft = 300;
            
            // إظهار أول سؤال
            showQuestion();
            
            // بدء المؤقت
            startTimer();
            
            // إخفاء النتائج
            testResults.style.display = 'none';
            
            // إظهار عناصر الاختبار
            currentQuestion.style.display = 'block';
            nextQuestionBtn.style.display = 'block';
            finishTestBtn.style.display = 'block';
        }

        // عرض السؤال الحالي
        function showQuestion() {
            if (currentQuestionIndex >= testQuestions.length) {
                finishTest();
                return;
            }
            
            const question = testQuestions[currentQuestionIndex];
            document.querySelector('.question-text').textContent = question.question;
            
            optionsContainer.innerHTML = '';
            question.options.forEach(option => {
                const optionBtn = document.createElement('button');
                optionBtn.className = 'option-btn';
                optionBtn.textContent = option;
                optionBtn.dataset.answer = option;
                optionBtn.addEventListener('click', selectOption);
                optionsContainer.appendChild(optionBtn);
            });
            
            testProgress.textContent = `السؤال ${currentQuestionIndex + 1} من ${testQuestions.length}`;
            nextQuestionBtn.disabled = true;
            selectedOption = null;
            
            // تحديث شريط التقدم
            updateProgressBar();
        }

        // اختيار إجابة في الاختبار
        function selectOption(e) {
            if (selectedOption) {
                selectedOption.classList.remove('selected');
            }
            
            selectedOption = e.target;
            selectedOption.classList.add('selected');
            nextQuestionBtn.disabled = false;
        }

        // الانتقال للسؤال التالي
        function nextQuestion() {
            if (!selectedOption) return;
            
            const currentQuestion = testQuestions[currentQuestionIndex];
            const isCorrect = selectedOption.dataset.answer === currentQuestion.answer;
            
            userAnswers.push({
                question: currentQuestion.question,
                userAnswer: selectedOption.dataset.answer,
                correctAnswer: currentQuestion.answer,
                isCorrect: isCorrect
            });
            
            currentQuestionIndex++;
            showQuestion();
        }

        // إنهاء الاختبار وعرض النتائج
        function finishTest() {
            clearInterval(timerInterval);
            
            const correctCount = userAnswers.filter(answer => answer.isCorrect).length;
            const total = testQuestions.length;
            const score = Math.round((correctCount / total) * 100);
            
            resultScore.textContent = `${score}%`;
            totalQuestions.textContent = total;
            correctAnswers.textContent = correctCount;
            wrongAnswers.textContent = total - correctCount;
            percentage.textContent = `${score}%`;
            
            // إضافة قسم الأسئلة الخاطئة
            const wrongAnswersSection = document.createElement('div');
            wrongAnswersSection.className = 'wrong-answers-section';
            wrongAnswersSection.innerHTML = '<h3 class="section-title">الأسئلة التي تحتاج إلى مراجعة</h3>';
            
            const wrongAnswersList = document.createElement('div');
            wrongAnswersList.className = 'wrong-answers-list';
            
            userAnswers.filter(answer => !answer.isCorrect).forEach((answer, index) => {
                const wrongAnswerItem = document.createElement('div');
                wrongAnswerItem.className = 'wrong-answer-item';
                wrongAnswerItem.innerHTML = `
                    <div class="wrong-question">${index + 1}. ${answer.question}</div>
                    <div class="user-answer">إجابتك: <span class="wrong">${answer.userAnswer}</span></div>
                    <div class="correct-answer">الإجابة الصحيحة: <span class="correct">${answer.correctAnswer}</span></div>
                `;
                wrongAnswersList.appendChild(wrongAnswerItem);
            });
            
            wrongAnswersSection.appendChild(wrongAnswersList);
            testResults.appendChild(wrongAnswersSection);
            
            currentQuestion.style.display = 'none';
            nextQuestionBtn.style.display = 'none';
            finishTestBtn.style.display = 'none';
            testResults.style.display = 'block';
            
            if (testNotificationsToggle.checked) {
                showNotification(`لقد أكملت الاختبار بنجاح! نتيجتك: ${score}%`);
            }
        }

        // إعادة الاختبار
        function restartTest() {
            startTest();
        }

        // إعادة الأسئلة الخاطئة فقط
        function retryWrongAnswers() {
            const wrongQuestions = userAnswers
                .filter(answer => !answer.isCorrect)
                .map(answer => testQuestions.find(q => q.question === answer.question));
            
            if (wrongQuestions.length > 0) {
                testQuestions = wrongQuestions;
                startTest();
            } else {
                showNotification('لا توجد أسئلة خاطئة لإعادة الاختبار عليها!');
            }
        }

        // طباعة النتائج
        function printResults() {
            const printContent = testResults.innerHTML;
            const originalContent = document.body.innerHTML;
            
            document.body.innerHTML = `
                <div style="direction: rtl; text-align: right; padding: 20px;">
                    <h1 style="text-align: center;">نتيجة اختبار تصريف الأفعال</h1>
                    ${printContent}
                </div>
            `;
            
            window.print();
            document.body.innerHTML = originalContent;
            window.location.reload();
        }

        // بدء المؤقت
        function startTimer() {
            clearInterval(timerInterval);
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                testTimeLeft--;
                updateTimerDisplay();
                
                if (testTimeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishTest();
                }
            }, 1000);
        }

        // تحديث عرض المؤقت
        function updateTimerDisplay() {
            const minutes = Math.floor(testTimeLeft / 60);
            const seconds = testTimeLeft % 60;
            testTimer.textContent = `الوقت: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // تحديث شريط التقدم
        function updateProgressBar() {
            const progress = (currentQuestionIndex / testQuestions.length) * 100;
            testProgressBar.style.width = `${progress}%`;
        }

        // تبديل وضع الليل
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode') ? 'enabled' : 'disabled');
        }

        // تغيير حجم الخط
        function changeFontSize(size) {
            document.body.style.fontSize = 
                size === 'small' ? '14px' : 
                size === 'medium' ? '16px' : '18px';
            localStorage.setItem('fontSize', size);
        }

        // تغيير لون السمة
        function changeThemeColor(color) {
            const root = document.documentElement;
            
            switch(color) {
                case 'blue':
                    root.style.setProperty('--primary-color', '#3498db');
                    break;
                case 'green':
                    root.style.setProperty('--primary-color', '#2ecc71');
                    break;
                case 'red':
                    root.style.setProperty('--primary-color', '#e74c3c');
                    break;
                case 'purple':
                    root.style.setProperty('--primary-color', '#9b59b6');
                    break;
            }
            
            localStorage.setItem('themeColor', color);
        }

        // تسجيل الدخول
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username && password) {
                showLoading();
                
                // محاكاة اتصال بالخادم
                setTimeout(() => {
                    isLoggedIn = true;
                    localStorage.setItem('isLoggedIn', 'true');
                    localStorage.setItem('username', username);
                    localStorage.setItem('email', `${username}@example.com`);
                    
                    checkLoginStatus();
                    hideLoading();
                    showNotification(`مرحباً بك ${username}! تم تسجيل دخولك بنجاح.`);
                    showTab(searchTab);
                }, 1000);
            } else {
                showNotification('الرجاء إدخال اسم المستخدم وكلمة المرور');
            }
        }

        // تسجيل الخروج
        function logout() {
            isLoggedIn = false;
            localStorage.removeItem('isLoggedIn');
            localStorage.removeItem('username');
            localStorage.removeItem('email');
            
            checkLoginStatus();
            showNotification('تم تسجيل الخروج بنجاح.');
            showTab(mainMenu);
        }

        // التحقق من حالة تسجيل الدخول
        function checkLoginStatus() {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            
            if (isLoggedIn) {
                const username = localStorage.getItem('username') || 'مستخدم';
                const email = localStorage.getItem('email') || 'بريد إلكتروني';
                
                loginForm.style.display = 'none';
                userProfile.style.display = 'block';
                userName.textContent = username;
                userEmail.textContent = email;
                
                // تحديث القائمة الجانبية
                const loginItem = document.querySelector('.sidebar-item[data-tab="loginTab"]');
                if (loginItem) {
                    loginItem.innerHTML = '<i class="fas fa-user"></i> الملف الشخصي';
                }
            } else {
                loginForm.style.display = 'block';
                userProfile.style.display = 'none';
                
                // تحديث القائمة الجانبية
                const loginItem = document.querySelector('.sidebar-item[data-tab="loginTab"]');
                if (loginItem) {
                    loginItem.innerHTML = '<i class="fas fa-user"></i> تسجيل الدخول';
                }
            }
        }

        // تحميل التطبيق تلقائياً
        function downloadApp() {
            showLoading();
            
            // إنشاء ملف تطبيق وهمي (في الواقع سيكون لديك ملف حقيقي)
            setTimeout(() => {
                const appContent = "هذا ملف تطبيق تصريف الأفعال الإنجليزية";
                const blob = new Blob([appContent], { type: 'application/zip' });
                const url = URL.createObjectURL(blob);
                
                // إنشاء عنصر تحميل
                const a = document.createElement('a');
                a.href = url;
                a.download = 'EnglishVerbsApp.zip';
                document.body.appendChild(a);
                a.click();
                
                // التنظيف
                setTimeout(() => {
                    document.body.removeChild(a);
                    window.URL.revokeObjectURL(url);
                    hideLoading();
                }, 100);
                
                // إظهار رسالة للمستخدم
                if (soundToggle.checked) {
                    const utterance = new SpeechSynthesisUtterance("Downloading the application. Thank you for using our service.");
                    synth.speak(utterance);
                }
                
                showNotification('جاري تحميل التطبيق، شكراً لاستخدامك موقعنا! سيتم تنزيل ملف باسم EnglishVerbsApp.zip');
            }, 1500);
        }

        // عرض تأثير التحميل
        function showLoading() {
            loading.style.display = 'flex';
        }

        // إخفاء تأثير التحميل
        function hideLoading() {
            loading.style.display = 'none';
        }

        // عرض إشعار
        function showNotification(message) {
            notification.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // تهيئة الصفحة عند التحميل
        window.addEventListener('DOMContentLoaded', async () => {
            showLoading();
            
            // تحميل الأصوات
            await loadVoices();
            
            populateVerbsTable();
            populateGrammarContent();
            mainMenu.style.display = 'none';
            sidebarToggle.style.display = 'none';
            showTab(searchTab);
            
            // إخفاء عناصر الاختبار في البداية
            currentQuestion.style.display = 'none';
            nextQuestionBtn.style.display = 'none';
            finishTestBtn.style.display = 'none';
            testResults.style.display = 'none';
            
            // تحميل التفضيلات من localStorage
            if (localStorage.getItem('darkMode') === 'enabled') {
                document.body.classList.add('dark-mode');
                darkModeToggle.checked = true;
            }
            
            if (localStorage.getItem('fontSize')) {
                changeFontSize(localStorage.getItem('fontSize'));
                fontSizeSelect.value = localStorage.getItem('fontSize');
            }
            
            if (localStorage.getItem('themeColor')) {
                changeThemeColor(localStorage.getItem('themeColor'));
                themeColorSelect.value = localStorage.getItem('themeColor');
            }
            
            if (localStorage.getItem('soundEnabled')) {
                soundToggle.checked = localStorage.getItem('soundEnabled') === 'true';
            }
            
            if (localStorage.getItem('vibrationEnabled')) {
                vibrationToggle.checked = localStorage.getItem('vibrationEnabled') === 'true';
            }
            
            if (localStorage.getItem('language')) {
                languageSelect.value = localStorage.getItem('language');
            }
            
            // التحقق من حالة تسجيل الدخول
            checkLoginStatus();
            
            hideLoading();
        });

        // إضافة جميع المستمعين للأحداث
        function initEventListeners() {
            useSiteBtn.addEventListener('click', () => {
                mainScreen.style.display = 'none';
                mainMenu.style.display = 'block';
                sidebarToggle.style.display = 'none';
                showTab(mainMenu);
            });

            downloadBtn.addEventListener('click', () => {
                mainScreen.style.display = 'none';
                mainMenu.style.display = 'none';
                sidebarToggle.style.display = 'flex';
                showTab(downloadTab);
            });

            searchInput.addEventListener('input', () => {
                searchVerbs();
                showSuggestions(searchInput.value);
            });
            
            // إخفاء اقتراحات البحث عند النقر خارجها
            document.addEventListener('click', (e) => {
                if (e.target !== searchInput) {
                    suggestionsContainer.style.display = 'none';
                }
            });
            
            // أحداث الاختبار
            nextQuestionBtn.addEventListener('click', nextQuestion);
            finishTestBtn.addEventListener('click', finishTest);
            restartTestBtn.addEventListener('click', restartTest);
            retryWrongBtn.addEventListener('click', retryWrongAnswers);
            printResultsBtn.addEventListener('click', printResults);
            
            // أحداث الشريط الجانبي
            sidebarToggle.addEventListener('click', () => {
                sidebar.classList.add('active');
            });
            
            backBtn.addEventListener('click', goBack);
            
            sidebarClose.addEventListener('click', () => {
                sidebar.classList.remove('active');
            });
            
            sidebarItems.forEach(item => {
                item.addEventListener('click', () => {
                    const tabId = item.dataset.tab;
                    const tab = document.getElementById(tabId);
                    
                    // إخفاء القائمة الرئيسية الكبيرة
                    mainMenu.style.display = 'none';
                    
                    // إظهار التبويب المحدد
                    showTab(tab);
                    
                    // إغلاق الشريط الجانبي
                    sidebar.classList.remove('active');
                });
            });
            
            menuItems.forEach(item => {
                item.addEventListener('click', () => {
                    const tabId = item.dataset.tab;
                    const tab = document.getElementById(tabId);
                    
                    // إخفاء القائمة الرئيسية الكبيرة
                    mainMenu.style.display = 'none';
                    
                    // إظهار التبويب المحدد
                    showTab(tab);
                    
                    // إظهار أيقونة القائمة
                    sidebarToggle.style.display = 'flex';
                });
            });
            
            // أحداث الإعدادات
            darkModeToggle.addEventListener('change', () => {
                toggleDarkMode();
            });
            
            fontSizeSelect.addEventListener('change', (e) => {
                changeFontSize(e.target.value);
            });
            
            themeColorSelect.addEventListener('change', (e) => {
                changeThemeColor(e.target.value);
            });
            
            soundToggle.addEventListener('change', (e) => {
                localStorage.setItem('soundEnabled', e.target.checked);
            });
            
            vibrationToggle.addEventListener('change', (e) => {
                localStorage.setItem('vibrationEnabled', e.target.checked);
            });
            
            languageSelect.addEventListener('change', (e) => {
                localStorage.setItem('language', e.target.value);
                showNotification('سيتم تطبيق تغيير اللغة بعد إعادة تحميل الصفحة');
            });
            
            // حدث تحميل التطبيق
            downloadAppBtn.addEventListener('click', downloadApp);

            // أحداث القواعد النحوية
            document.querySelectorAll('.tense-card').forEach(card => {
                card.addEventListener('click', () => {
                    const tenseId = card.dataset.tense;
                    showTenseContent(tenseId);
                });
            });

            // حدث النقر على صف في جدول الأفعال
            verbsTable.addEventListener('click', (e) => {
                const row = e.target.closest('tr');
                if (row) {
                    const verb = row.querySelector('.verb').textContent.trim();
                    showVerbExamples(verb);
                    
                    // تمرير إلى أعلى الأمثلة
                    verbExamples.scrollIntoView({ behavior: 'smooth' });
                }
            });
            
            // أحداث تسجيل الدخول
            loginBtn.addEventListener('click', login);
            logoutBtn.addEventListener('click', logout);
            registerLink.addEventListener('click', (e) => {
                e.preventDefault();
                showNotification('نظام التسجيل قيد التطوير، يمكنك استخدام أي اسم مستخدم وكلمة مرور للدخول الآن.');
            });
            
            // أحداث تصفية الأفعال
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    filterVerbs(btn.dataset.filter);
                });
            });
        }

        // تهيئة مستمعي الأحداث
        initEventListeners();
    </script>
</body>
</html>
